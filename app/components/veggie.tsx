import Image from "next/image";
import egg from "../assets/egg.png"
import { motion } from "framer-motion";
import { useRouter } from "next/navigation"

export default function Veggie({ link, category, num }: { category: string, link: string, num: number }) {
    let coords = [[10, 50], [50, 10], [90, 50]]
    console.log(category)
    return (
        <div className="img-overlay-wrap">
            <div className={`absolute top-[${coords[num][0]}vh] left-[${coords[num][1]}vw]`}>
                <FloatingDiv delay={0.3} link={link} />
            </div>
        </div>
    );
}


function FloatingDiv({ delay, link }: { delay: number, link: string }) {
    let router = useRouter()
    function handleClick() {
        router.push(link)
    }
    return (
        <div className="hover:cursor-pointer" onClick={handleClick}>
            <motion.div
                style={{
                    width: 150,
                    height: 150,
                    cursor: "pointer"
                }}
                animate={["initial"]}
                whileHover={["grow"]}
                whileFocus={["grow"]}
                variants={{
                    grow: {
                        scale: 1.2
                    },
                    rotate: {
                        rotate: [null, -3, 3, 0],
                        transition: {
                            // delay,
                            duration: 10
                            // repeat: Infinity,
                            // repeatDelay: 0.2,
                            // repeatType: "reverse"
                        }
                    },
                    initial: {
                        y: [-5, 10],
                        rotate: 0,
                        transition: {
                            delay,
                            duration: 2,
                            repeat: Infinity,
                            // repeatDelay: 0.2,
                            repeatType: "reverse"
                        }
                    }
                }}
            >
                <Image src={egg} width={150} height={150} alt="egg" />
            </motion.div>
            <svg width="540" height="152" viewBox="0 0 540 152" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 8.26321C1 12.4661 3.24279 14.9451 7.04242 14.9451C10.3646 14.9451 18.9961 20.9588 26.2188 28.3088L26.2279 151.5H513.391V28.3088C521.417 20.9588 530.463 14.9451 533.492 14.9451C536.757 14.9451 539 12.2256 539 8.26321C539 -3.40001 523.112 -0.115864 506.666 14.9451C498.64 22.2951 490.318 28.3088 488.172 28.3088C486.027 28.3088 477.705 22.2951 469.679 14.9451C450.038 -3.04252 438.882 -3.04252 419.241 14.9451C411.215 22.2951 402.893 28.3088 400.747 28.3088C398.602 28.3088 390.28 22.2951 382.254 14.9451C371.648 5.22964 364.762 1.58133 357.035 1.58133C349.311 1.58133 342.425 5.22964 331.816 14.9451C323.79 22.2951 315.468 28.3088 313.322 28.3088C311.177 28.3088 302.855 22.2951 294.829 14.9451C275.188 -3.04252 264.032 -3.04252 244.391 14.9451C236.365 22.2951 228.043 28.3088 225.897 28.3088C223.752 28.3088 215.43 22.2951 207.404 14.9451C196.798 5.22964 189.912 1.58133 182.185 1.58133C174.461 1.58133 167.575 5.22964 156.966 14.9451C148.94 22.2951 140.379 28.3088 137.938 28.3088C135.5 28.3088 127.591 22.2951 120.369 14.9451C110.083 4.48127 104.73 1.58133 95.6846 1.58133C86.8816 1.58133 80.661 4.7619 69.5412 14.9451C61.5149 22.2951 52.954 28.3088 50.5128 28.3088C48.075 28.3088 40.1664 22.2951 32.9438 14.9451C17.9773 -0.286252 1 -3.83433 1 8.26321Z" fill="#EACEB1" />
                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 7.26321C0 11.4661 2.25113 13.9451 6.06488 13.9451C9.39938 13.9451 18.063 19.9588 25.3125 27.3088C35.4578 37.5956 41.0737 40.6726 49.6969 40.6726C58.077 40.6726 64.5907 37.3049 75.546 27.3088C83.6021 19.9588 92.3738 13.9451 95.0366 13.9451C97.6995 13.9451 105.813 19.9588 113.062 27.3088C131.068 45.5637 143.289 45.5637 163.296 27.3088C171.352 19.9588 180.124 13.9451 182.787 13.9451C185.449 13.9451 193.563 19.9588 200.812 27.3088C210.958 37.5956 216.574 40.6726 225.197 40.6726C233.577 40.6726 240.091 37.3049 251.046 27.3088C259.102 19.9588 267.874 13.9451 270.537 13.9451C273.199 13.9451 281.313 19.9588 288.562 27.3088C306.568 45.5637 318.789 45.5637 338.796 27.3088C346.852 19.9588 355.624 13.9451 358.287 13.9451C360.949 13.9451 369.063 19.9588 376.312 27.3088C394.318 45.5637 406.539 45.5637 426.546 27.3088C434.602 19.9588 443.374 13.9451 446.037 13.9451C448.699 13.9451 456.813 19.9588 464.062 27.3088C474.208 37.5956 479.824 40.6726 488.447 40.6726C496.827 40.6726 503.341 37.3049 514.296 27.3088C522.352 19.9588 531.431 13.9451 534.472 13.9451C537.749 13.9451 540 11.2256 540 7.26321C540 -4.40001 524.053 -1.11586 507.546 13.9451C499.49 21.2951 491.137 27.3088 488.984 27.3088C486.83 27.3088 478.477 21.2951 470.421 13.9451C450.708 -4.04253 439.509 -4.04253 419.796 13.9451C411.74 21.2951 403.387 27.3088 401.234 27.3088C399.08 27.3088 390.727 21.2951 382.671 13.9451C372.026 4.22964 365.114 0.581332 357.359 0.581332C349.606 0.581332 342.694 4.22964 332.046 13.9451C323.99 21.2951 315.637 27.3088 313.484 27.3088C311.33 27.3088 302.977 21.2951 294.921 13.9451C275.208 -4.04253 264.009 -4.04253 244.296 13.9451C236.24 21.2951 227.887 27.3088 225.734 27.3088C223.58 27.3088 215.227 21.2951 207.171 13.9451C196.526 4.22964 189.614 0.581332 181.859 0.581332C174.106 0.581332 167.194 4.22964 156.546 13.9451C148.49 21.2951 139.897 27.3088 137.447 27.3088C135 27.3088 127.062 21.2951 119.812 13.9451C109.488 3.48127 104.115 0.581332 95.0366 0.581332C86.2009 0.581332 79.9571 3.7619 68.796 13.9451C60.7399 21.2951 52.1471 27.3088 49.6969 27.3088C47.25 27.3088 39.312 21.2951 32.0625 13.9451C17.0404 -1.28625 0 -4.83433 0 7.26321Z" fill="#CE9A3A" />
            </svg>
        </div>
    );
}